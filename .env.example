# CenterBack.AI Environment Variables
# Copy this file to .env and fill in your values

# ===================
# Backend Configuration
# ===================

# Server
# Note: the backend currently uses `uvicorn` CLI flags for host/port.
HOST=0.0.0.0
PORT=8000
DEBUG=true
APP_ENV=development

# Supabase Database
# (Not wired yet)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key

# Primary application database URL
# Default fallback is sqlite:///backend/data/centerback.db
# DATABASE_URL=postgresql+psycopg://user:password@localhost:5432/centerback

# ML Model
# Optional override. Defaults to `backend/ml/models/random_forest_v1.joblib`.
MODEL_PATH=ml/models/random_forest_v1.joblib

# CORS
# Comma-separated list of allowed origins. Leave unset to use localhost defaults.
# CORS_ALLOW_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
# Optional: regex for allowed origins (e.g., Vercel preview URLs)
# CORS_ALLOW_ORIGIN_REGEX=https://.*\.vercel\.app

# Auth and security
# AUTH_REQUIRED=true
# AUTH_MODE=local
# AUTH_JWT_SECRET=replace-this-in-production
# AUTH_JWT_ALGORITHM=HS256
# AUTH_ACCESS_TOKEN_EXPIRE_MINUTES=60
# BOOTSTRAP_ADMIN_USERNAME=admin
# BOOTSTRAP_ADMIN_PASSWORD=change-me-now
# BOOTSTRAP_ADMIN_ROLE=admin
# AUTH_OIDC_ISSUER=https://your-issuer/
# AUTH_OIDC_AUDIENCE=your-api-audience
# AUTH_OIDC_JWKS_URL=https://your-issuer/.well-known/jwks.json
# AUTH_OIDC_USERNAME_CLAIM=email
# SCIM_BEARER_TOKEN=replace-with-random-token

# Ingestion worker and API hardening
# INGEST_PIPELINE_ENABLED=true
# INGEST_POLL_INTERVAL_SECONDS=2
# INGEST_BATCH_SIZE=100
# INGEST_MAX_ATTEMPTS=5
# INGEST_MAX_QUEUE_DEPTH=5000
# INGEST_IDEMPOTENCY_WINDOW_MINUTES=30
# RATE_LIMIT_PER_MINUTE=120
# MAX_REQUEST_BYTES=5242880

# Classification behavior
# ENABLE_DEMO_FALLBACK=false
# ALERT_DEDUP_WINDOW_MINUTES=10

# Alert integrations
# NOTIFICATION_WEBHOOK_URL=https://hooks.example.com/centerback
# NOTIFICATION_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
# NOTIFICATION_TIMEOUT_SECONDS=5

# Canary and drift monitoring
# CANARY_ENABLED=false
# CANARY_MODEL_PATH=ml/models/random_forest_v2.joblib
# CANARY_TRAFFIC_PERCENT=5
# DRIFT_WINDOW_EVENTS=500
# DRIFT_ALERT_THRESHOLD=0.2

# ===================
# Frontend Configuration
# ===================

# API URL (for frontend to call backend)
NEXT_PUBLIC_API_URL=http://localhost:8000
# Optional static token fallback for frontend API client
# NEXT_PUBLIC_API_TOKEN=

# ===================
# Production Only
# ===================

# Google Cloud (for deployment)
# GCP_PROJECT_ID=your-gcp-project-id
# GCP_REGION=us-central1

# Logging
# LOG_LEVEL=info
